define([],function(){function t(e,t){return t!="in"&&t!="not_in"&&(e=e.toLowerCase()),t=="contains"||t=="not_contains"?"'%"+e+"%'":t=="starts_with"?"'"+e+"%'":t=="ends_with"?"'%"+e+"'":"'"+e+"'"}function n(e,n){return angular.isString(e)?t(e,n):e}function r(e){if(angular.isArray(e.value)){var t=[];for(var r=0;r<e.value.length;r++)t.push(n(e.value[r],e.condition));return"("+t.join(", ")+")"}return n(e.value,e.condition)}function i(e){return angular.isString(e.value)?"lower(obj."+e.field+")":"obj."+e.field}var e={gt:">",ge:">=",lt:"<",le:"<=",eq:"=",ne:"!=","in":"in",not_in:"not in",contains:"like",starts_with:"like",ends_with:"like",not_contains:"not like"};return function(){this.export=function(t){if(!t||!t.length)return"1=1";var n=[];for(var s=0;s<t.length;s++){var o=t[s];s>0&&n.push(o.logicalOp.toLowerCase()),n.push(i(o)),n.push(e[o.condition]),n.push(r(o))}return n.join(" ")}}});